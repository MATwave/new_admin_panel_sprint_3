# Заключительное задание первого модуля

Ваша задача в этом уроке — загрузить данные в Elasticsearch из PostgreSQL. Подробности задания в папке `etl`.

# Описание структуры 

2. `django_api` — реализация API для выдачи информации о фильме.
1. `etl` — реализация Extract Transform Load процесса из PostgreSQL в Elasticsearch


## Первичный запуск
- необходимо перейти в директорию с `docker-compose.yml`
> - cd etl/simple_project
- запустить докеры
> - docker compose up -d --build

### Как это работает?
точка входа - файл load_data.py

Процесс ETL (Extract-Transform-Load процесс перекачки данных) из PostgreSQL в Elasticsearch работает следующим способом:
    
    в бесконечном цикле: 
    - обращаемся к хранилищу состояния (в данной реализации это Json file, в котором сохранено last_sync_timestamp - метка последней синхронизации и filmwork_ids - список)
    - смотрим в PostgreSQL классом Extract
    - если что-то нашли - передаем в класс Transform
    - и грузим в ElasticSearch классом Load
    - паралельно фиксируем это все в хранилище состояния для того, чтобы в случае падения сервиса не начинать все заново, а продолжать с последнего зафиксированного состояния.
    - ждем какое-то время и по новой 
